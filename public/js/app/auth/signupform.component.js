"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var core_1 = require("@angular/core");
var common_1 = require("@angular/common");
var authentication_service_1 = require("./authentication.service");
var error_service_1 = require("../errors/error.service");
var user_1 = require("./user");
var SignupformComponent = (function () {
    function SignupformComponent(_fb, _authService, _errorService) {
        this._fb = _fb;
        this._authService = _authService;
        this._errorService = _errorService;
    }
    SignupformComponent.prototype.onSubmit = function () {
        var _this = this;
        var user = new user_1.User(this.myForm.value.email, this.myForm.value.password, this.myForm.value.firstName, this.myForm.value.lastName);
        this._authService.signup(user).subscribe(function (data) { return console.log(data); }, function (error) { return _this._errorService.handleError(error); });
    };
    SignupformComponent.prototype.ngOnInit = function () {
        this.myForm = this._fb.group({
            firstName: ['', common_1.Validators.required],
            lastName: ['', common_1.Validators.required],
            email: ['', common_1.Validators.compose([
                    common_1.Validators.required,
                    this.isEmail
                ])],
            password: ['', common_1.Validators.required]
        });
    };
    SignupformComponent.prototype.isEmail = function (control) {
        if (!control.value.match("[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?")) {
            return { invalidMail: true };
        }
    };
    __decorate([
        core_1.ViewChild('myModal'), 
        __metadata('design:type', Object)
    ], SignupformComponent.prototype, "myModal", void 0);
    SignupformComponent = __decorate([
        core_1.Component({
            selector: 'registration-form',
            template: "\n  \t\t<div>    \n            <button id=\"register\"  class=\"btn btn-primary btn-lg btn-block\" data-toggle=\"modal\" data-target=\"#myModal\" >Register Now</button>\n        </div>\n\n        <div #myModal class=\"modal fade\" id=\"myModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\">\n  \t\t\t<div class=\"modal-dialog\" role=\"document\">\n    \t\t\t<div class=\"modal-content\">\n      \t\t\t\t<form id=\"myForm\" [ngFormModel]=\"myForm\">\n      \t\t\t\t\t<div class=\"modal-header\">\n        \t\t\t\t\t<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>\n        \t\t\t\t\t<h4 class=\"modal-title\" id=\"myModalLabel\">Registration Form</h4>\n      \t\t\t\t\t</div>\n      \t\t\t\t\t<div class=\"modal-body\">\n                \t\t\t<div class=\"form-group\">\n                    \t\t\t<label for=\"firstName\">First Name:</label>\n                    \t\t\t<input type=\"text\" [ngFormControl]=\"myForm.find('firstName')\" id=\"firstName\" class=\"form-control\"/>\n                \t\t\t</div>\n                \t\t\t<div class=\"form-group\">\n                    \t\t\t<label for=\"lastName\">Last Name</label>\n                    \t\t\t<input type=\"text\" [ngFormControl]=\"myForm.find('lastName')\" id=\"lastName\" class=\"form-control\"/>\n                \t\t\t</div>\n                \t\t\t<div class=\"form-group\">\n                    \t\t\t<label for=\"email\">Email:</label>\n                    \t\t\t<input type=\"email\" [ngFormControl]=\"myForm.find('email')\" id=\"email\" class=\"form-control\" />\n                \t\t\t</div>\n                \t\t\t<div class=\"form-group\">\n                    \t\t\t<label for=\"password\">Password</label>\n                    \t\t\t<input type=\"password\" [ngFormControl]=\"myForm.find('password')\" id=\"password\" class=\"form-control\" />\n                \t\t\t</div>\n                \t\t\t\n            \t\t\t\n      \t\t\t\t\t</div>\n      \t\t\t\t\t<div class=\"modal-footer\">\n      \t\t\t\t\t\t<button type=\"button\" class=\"btn btn-primary\" [disabled]=\"!myForm.valid\" (click)=\"onSubmit()\" data-dismiss=\"modal\">Sign Up</button>\n        \t\t\t\t\t<button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close</button>        \t\t\t\t\n      \t\t\t\t\t</div>\n      \t\t\t\t</form>\n    \t\t\t</div>\n  \t\t\t</div>\n\t\t</div>\n  \t"
        }), 
        __metadata('design:paramtypes', [common_1.FormBuilder, authentication_service_1.AuthenticationService, error_service_1.ErrorService])
    ], SignupformComponent);
    return SignupformComponent;
}());
exports.SignupformComponent = SignupformComponent;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGgvc2lnbnVwZm9ybS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLHFCQUEyQyxlQUFlLENBQUMsQ0FBQTtBQUMzRCx1QkFBNkQsaUJBQWlCLENBQUMsQ0FBQTtBQUMvRSx1Q0FBb0MsMEJBQTBCLENBQUMsQ0FBQTtBQUMvRCw4QkFBMkIseUJBQXlCLENBQUMsQ0FBQTtBQUNyRCxxQkFBbUIsUUFBUSxDQUFDLENBQUE7QUErQzVCO0lBSUMsNkJBQW9CLEdBQWUsRUFBUyxZQUFrQyxFQUFTLGFBQTJCO1FBQTlGLFFBQUcsR0FBSCxHQUFHLENBQVk7UUFBUyxpQkFBWSxHQUFaLFlBQVksQ0FBc0I7UUFBUyxrQkFBYSxHQUFiLGFBQWEsQ0FBYztJQUFFLENBQUM7SUFFckgsc0NBQVEsR0FBUjtRQUFBLGlCQVFJO1FBUEcsSUFBTSxJQUFJLEdBQUksSUFBSSxXQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDbEksSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsU0FBUyxDQUNwQyxVQUFBLElBQUksSUFBSSxPQUFBLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQWpCLENBQWlCLEVBQ3pCLFVBQUEsS0FBSyxJQUFJLE9BQUEsS0FBSSxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLEVBQXJDLENBQXFDLENBQ2pELENBQUM7SUFHTixDQUFDO0lBRUosc0NBQVEsR0FBUjtRQUNDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUM7WUFDNUIsU0FBUyxFQUFFLENBQUMsRUFBRSxFQUFFLG1CQUFVLENBQUMsUUFBUSxDQUFDO1lBQ3BDLFFBQVEsRUFBRSxDQUFDLEVBQUUsRUFBRSxtQkFBVSxDQUFDLFFBQVEsQ0FBQztZQUNuQyxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUUsbUJBQVUsQ0FBQyxPQUFPLENBQUM7b0JBQzlCLG1CQUFVLENBQUMsUUFBUTtvQkFDbkIsSUFBSSxDQUFDLE9BQU87aUJBQ1osQ0FBQyxDQUFDO1lBQ0gsUUFBUSxFQUFFLENBQUMsRUFBRSxFQUFFLG1CQUFVLENBQUMsUUFBUSxDQUFDO1NBQ25DLENBQUMsQ0FBQztJQUNKLENBQUM7SUFFTyxxQ0FBTyxHQUFmLFVBQWdCLE9BQWlCO1FBQzFCLEVBQUUsQ0FBQSxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsNlBBQTZQLENBQUMsQ0FBQyxDQUFBLENBQUM7WUFDcFIsTUFBTSxDQUFDLEVBQUMsV0FBVyxFQUFDLElBQUksRUFBQyxDQUFBO1FBQzdCLENBQUM7SUFDTCxDQUFDO0lBOUJKO1FBQUMsZ0JBQVMsQ0FBQyxTQUFTLENBQUM7O3dEQUFBO0lBaER0QjtRQUFDLGdCQUFTLENBQUM7WUFDVixRQUFRLEVBQUUsbUJBQW1CO1lBQzNCLFFBQVEsRUFBRSxtNUVBeUNUO1NBQ0gsQ0FBQzs7MkJBQUE7SUFtQ0YsMEJBQUM7QUFBRCxDQWpDQSxBQWlDQyxJQUFBO0FBakNZLDJCQUFtQixzQkFpQy9CLENBQUEiLCJmaWxlIjoiYXV0aC9zaWdudXBmb3JtLmNvbXBvbmVudC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q29tcG9uZW50LCBPbkluaXQsIFZpZXdDaGlsZH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcclxuaW1wb3J0IHtDb250cm9sR3JvdXAsIEZvcm1CdWlsZGVyLCBWYWxpZGF0b3JzLCBDb250cm9sfSBmcm9tIFwiQGFuZ3VsYXIvY29tbW9uXCI7XHJcbmltcG9ydCB7QXV0aGVudGljYXRpb25TZXJ2aWNlfSBmcm9tIFwiLi9hdXRoZW50aWNhdGlvbi5zZXJ2aWNlXCI7XHJcbmltcG9ydCB7RXJyb3JTZXJ2aWNlfSBmcm9tIFwiLi4vZXJyb3JzL2Vycm9yLnNlcnZpY2VcIjtcclxuaW1wb3J0IHtVc2VyfSBmcm9tIFwiLi91c2VyXCI7XHJcbkBDb21wb25lbnQoe1xyXG5cdHNlbGVjdG9yOiAncmVnaXN0cmF0aW9uLWZvcm0nLFxyXG4gIFx0dGVtcGxhdGU6IGBcclxuICBcdFx0PGRpdj4gICAgXHJcbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJyZWdpc3RlclwiICBjbGFzcz1cImJ0biBidG4tcHJpbWFyeSBidG4tbGcgYnRuLWJsb2NrXCIgZGF0YS10b2dnbGU9XCJtb2RhbFwiIGRhdGEtdGFyZ2V0PVwiI215TW9kYWxcIiA+UmVnaXN0ZXIgTm93PC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDxkaXYgI215TW9kYWwgY2xhc3M9XCJtb2RhbCBmYWRlXCIgaWQ9XCJteU1vZGFsXCIgdGFiaW5kZXg9XCItMVwiIHJvbGU9XCJkaWFsb2dcIiBhcmlhLWxhYmVsbGVkYnk9XCJteU1vZGFsTGFiZWxcIj5cclxuICBcdFx0XHQ8ZGl2IGNsYXNzPVwibW9kYWwtZGlhbG9nXCIgcm9sZT1cImRvY3VtZW50XCI+XHJcbiAgICBcdFx0XHQ8ZGl2IGNsYXNzPVwibW9kYWwtY29udGVudFwiPlxyXG4gICAgICBcdFx0XHRcdDxmb3JtIGlkPVwibXlGb3JtXCIgW25nRm9ybU1vZGVsXT1cIm15Rm9ybVwiPlxyXG4gICAgICBcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPlxyXG4gICAgICAgIFx0XHRcdFx0XHQ8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIiBhcmlhLWxhYmVsPVwiQ2xvc2VcIj48c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPjwvYnV0dG9uPlxyXG4gICAgICAgIFx0XHRcdFx0XHQ8aDQgY2xhc3M9XCJtb2RhbC10aXRsZVwiIGlkPVwibXlNb2RhbExhYmVsXCI+UmVnaXN0cmF0aW9uIEZvcm08L2g0PlxyXG4gICAgICBcdFx0XHRcdFx0PC9kaXY+XHJcbiAgICAgIFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPlxyXG4gICAgICAgICAgICAgICAgXHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuICAgICAgICAgICAgICAgICAgICBcdFx0XHQ8bGFiZWwgZm9yPVwiZmlyc3ROYW1lXCI+Rmlyc3QgTmFtZTo8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIFx0XHRcdDxpbnB1dCB0eXBlPVwidGV4dFwiIFtuZ0Zvcm1Db250cm9sXT1cIm15Rm9ybS5maW5kKCdmaXJzdE5hbWUnKVwiIGlkPVwiZmlyc3ROYW1lXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIi8+XHJcbiAgICAgICAgICAgICAgICBcdFx0XHQ8L2Rpdj5cclxuICAgICAgICAgICAgICAgIFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgXHRcdFx0PGxhYmVsIGZvcj1cImxhc3ROYW1lXCI+TGFzdCBOYW1lPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICBcdFx0XHQ8aW5wdXQgdHlwZT1cInRleHRcIiBbbmdGb3JtQ29udHJvbF09XCJteUZvcm0uZmluZCgnbGFzdE5hbWUnKVwiIGlkPVwibGFzdE5hbWVcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiLz5cclxuICAgICAgICAgICAgICAgIFx0XHRcdDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgXHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuICAgICAgICAgICAgICAgICAgICBcdFx0XHQ8bGFiZWwgZm9yPVwiZW1haWxcIj5FbWFpbDo8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIFx0XHRcdDxpbnB1dCB0eXBlPVwiZW1haWxcIiBbbmdGb3JtQ29udHJvbF09XCJteUZvcm0uZmluZCgnZW1haWwnKVwiIGlkPVwiZW1haWxcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIC8+XHJcbiAgICAgICAgICAgICAgICBcdFx0XHQ8L2Rpdj5cclxuICAgICAgICAgICAgICAgIFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgXHRcdFx0PGxhYmVsIGZvcj1cInBhc3N3b3JkXCI+UGFzc3dvcmQ8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIFx0XHRcdDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBbbmdGb3JtQ29udHJvbF09XCJteUZvcm0uZmluZCgncGFzc3dvcmQnKVwiIGlkPVwicGFzc3dvcmRcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIC8+XHJcbiAgICAgICAgICAgICAgICBcdFx0XHQ8L2Rpdj5cclxuICAgICAgICAgICAgICAgIFx0XHRcdFxyXG4gICAgICAgICAgICBcdFx0XHRcclxuICAgICAgXHRcdFx0XHRcdDwvZGl2PlxyXG4gICAgICBcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPlxyXG4gICAgICBcdFx0XHRcdFx0XHQ8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIFtkaXNhYmxlZF09XCIhbXlGb3JtLnZhbGlkXCIgKGNsaWNrKT1cIm9uU3VibWl0KClcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiPlNpZ24gVXA8L2J1dHRvbj5cclxuICAgICAgICBcdFx0XHRcdFx0PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHRcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiPkNsb3NlPC9idXR0b24+ICAgICAgICBcdFx0XHRcdFxyXG4gICAgICBcdFx0XHRcdFx0PC9kaXY+XHJcbiAgICAgIFx0XHRcdFx0PC9mb3JtPlxyXG4gICAgXHRcdFx0PC9kaXY+XHJcbiAgXHRcdFx0PC9kaXY+XHJcblx0XHQ8L2Rpdj5cclxuICBcdGBcclxufSlcclxuXHJcbmV4cG9ydCBjbGFzcyBTaWdudXBmb3JtQ29tcG9uZW50e1xyXG5cdG15Rm9ybTpDb250cm9sR3JvdXA7XHJcblx0QFZpZXdDaGlsZCgnbXlNb2RhbCcpIG15TW9kYWw6IEVsZW1lbnRSZWY7XHJcblx0XHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSBfZmI6Rm9ybUJ1aWxkZXIscHJpdmF0ZSBfYXV0aFNlcnZpY2U6QXV0aGVudGljYXRpb25TZXJ2aWNlLHByaXZhdGUgX2Vycm9yU2VydmljZTogRXJyb3JTZXJ2aWNlKXt9XHJcblxyXG5cdG9uU3VibWl0KCl7XHJcbiAgICAgICAgY29uc3QgdXNlciAgPSBuZXcgVXNlcih0aGlzLm15Rm9ybS52YWx1ZS5lbWFpbCx0aGlzLm15Rm9ybS52YWx1ZS5wYXNzd29yZCx0aGlzLm15Rm9ybS52YWx1ZS5maXJzdE5hbWUsdGhpcy5teUZvcm0udmFsdWUubGFzdE5hbWUpO1xyXG4gICAgICAgIHRoaXMuX2F1dGhTZXJ2aWNlLnNpZ251cCh1c2VyKS5zdWJzY3JpYmUoXHJcbiAgICAgICAgICAgIGRhdGEgPT4gY29uc29sZS5sb2coZGF0YSksXHJcbiAgICAgICAgICAgIGVycm9yID0+IHRoaXMuX2Vycm9yU2VydmljZS5oYW5kbGVFcnJvcihlcnJvcilcclxuICAgICAgICApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuXHRuZ09uSW5pdCgpe1xyXG5cdFx0dGhpcy5teUZvcm0gPSB0aGlzLl9mYi5ncm91cCh7XHJcblx0XHRcdGZpcnN0TmFtZTogWycnLCBWYWxpZGF0b3JzLnJlcXVpcmVkXSxcclxuXHRcdFx0bGFzdE5hbWU6IFsnJywgVmFsaWRhdG9ycy5yZXF1aXJlZF0sXHJcblx0XHRcdGVtYWlsOiBbJycsIFZhbGlkYXRvcnMuY29tcG9zZShbXHJcblx0XHRcdFx0VmFsaWRhdG9ycy5yZXF1aXJlZCxcclxuXHRcdFx0XHR0aGlzLmlzRW1haWxcclxuXHRcdFx0XSldLFxyXG5cdFx0XHRwYXNzd29yZDogWycnLCBWYWxpZGF0b3JzLnJlcXVpcmVkXVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGlzRW1haWwoY29udHJvbCA6IENvbnRyb2wpOiB7W3M6c3RyaW5nXTpib29sZWFufXtcclxuICAgICAgICBpZighY29udHJvbC52YWx1ZS5tYXRjaChcIlstYS16MC05fiEkJV4mKl89K317XFwnP10rKFxcLlstYS16MC05fiEkJV4mKl89K317XFwnP10rKSpAKFthLXowLTlfXVstYS16MC05X10qKFxcLlstYS16MC05X10rKSpcXC4oYWVyb3xhcnBhfGJpenxjb218Y29vcHxlZHV8Z292fGluZm98aW50fG1pbHxtdXNldW18bmFtZXxuZXR8b3JnfHByb3x0cmF2ZWx8bW9iaXxbYS16XVthLXpdKXwoWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfSkpKDpbMC05XXsxLDV9KT9cIikpe1xyXG4gICAgICAgICAgICByZXR1cm4ge2ludmFsaWRNYWlsOnRydWV9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
