"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var core_1 = require("@angular/core");
var common_1 = require("@angular/common");
var authentication_service_1 = require("./authentication.service");
var error_service_1 = require("../errors/error.service");
var user_1 = require("./user");
var SignupformComponent = (function () {
    function SignupformComponent(_fb, _authService, _errorService) {
        this._fb = _fb;
        this._authService = _authService;
        this._errorService = _errorService;
    }
    SignupformComponent.prototype.onSubmit = function () {
        var _this = this;
        var user = new user_1.User(this.myForm.value.email, this.myForm.value.password, this.myForm.value.firstName, this.myForm.value.lastName);
        this._authService.signup(user).subscribe(function (data) { return console.log(data); }, function (error) { return _this._errorService.handleError(error); });
    };
    SignupformComponent.prototype.ngOnInit = function () {
        this.myForm = this._fb.group({
            firstName: ['', common_1.Validators.required],
            lastName: ['', common_1.Validators.required],
            email: ['', common_1.Validators.compose([
                    common_1.Validators.required,
                    this.isEmail
                ])],
            password: ['', common_1.Validators.required]
        });
    };
    SignupformComponent.prototype.isEmail = function (control) {
        if (!control.value.match("[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?")) {
            return { invalidMail: true };
        }
    };
    __decorate([
        core_1.ViewChild('myModal'), 
        __metadata('design:type', Object)
    ], SignupformComponent.prototype, "myModal", void 0);
    SignupformComponent = __decorate([
        core_1.Component({
            selector: 'registration-form',
            template: "\n  \t\t<div>    \n            <button id=\"register\"  class=\"btn btn-primary btn-lg btn-block\" data-toggle=\"modal\" data-target=\"#myModal\">Register Now</button>\n        </div>\n\n        <div #myModal class=\"modal fade\" id=\"myModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\">\n  \t\t\t<div class=\"modal-dialog\" role=\"document\">\n    \t\t\t<div class=\"modal-content\">\n      \t\t\t\t<form id=\"myForm\" [ngFormModel]=\"myForm\">\n      \t\t\t\t\t<div class=\"modal-header\">\n        \t\t\t\t\t<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>\n        \t\t\t\t\t<h4 class=\"modal-title\" id=\"myModalLabel\">Registration Form</h4>\n      \t\t\t\t\t</div>\n      \t\t\t\t\t<div class=\"modal-body\">\n                \t\t\t<div class=\"form-group\">\n                    \t\t\t<label for=\"firstName\">First Name:</label>\n                    \t\t\t<input type=\"text\" [ngFormControl]=\"myForm.find('firstName')\" id=\"firstName\" class=\"form-control\"/>\n                \t\t\t</div>\n                \t\t\t<div class=\"form-group\">\n                    \t\t\t<label for=\"lastName\">Last Name</label>\n                    \t\t\t<input type=\"text\" [ngFormControl]=\"myForm.find('lastName')\" id=\"lastName\" class=\"form-control\"/>\n                \t\t\t</div>\n                \t\t\t<div class=\"form-group\">\n                    \t\t\t<label for=\"email\">Email:</label>\n                    \t\t\t<input type=\"email\" [ngFormControl]=\"myForm.find('email')\" id=\"email\" class=\"form-control\" />\n                \t\t\t</div>\n                \t\t\t<div class=\"form-group\">\n                    \t\t\t<label for=\"password\">Password</label>\n                    \t\t\t<input type=\"password\" [ngFormControl]=\"myForm.find('password')\" id=\"password\" class=\"form-control\" />\n                \t\t\t</div>\n                \t\t\t\n            \t\t\t\n      \t\t\t\t\t</div>\n      \t\t\t\t\t<div class=\"modal-footer\">\n      \t\t\t\t\t\t<button type=\"button\" class=\"btn btn-primary\" [disabled]=\"!myForm.valid\" (click)=\"onSubmit()\" data-dismiss=\"modal\">Sign Up</button>\n        \t\t\t\t\t<button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close</button>        \t\t\t\t\n      \t\t\t\t\t</div>\n      \t\t\t\t</form>\n    \t\t\t</div>\n  \t\t\t</div>\n\t\t</div>\n  \t"
        }), 
        __metadata('design:paramtypes', [common_1.FormBuilder, authentication_service_1.AuthenticationService, error_service_1.ErrorService])
    ], SignupformComponent);
    return SignupformComponent;
}());
exports.SignupformComponent = SignupformComponent;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGgvc2lnbnVwZm9ybS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLHFCQUEyQyxlQUFlLENBQUMsQ0FBQTtBQUMzRCx1QkFBNkQsaUJBQWlCLENBQUMsQ0FBQTtBQUMvRSx1Q0FBb0MsMEJBQTBCLENBQUMsQ0FBQTtBQUMvRCw4QkFBMkIseUJBQXlCLENBQUMsQ0FBQTtBQUNyRCxxQkFBbUIsUUFBUSxDQUFDLENBQUE7QUErQzVCO0lBSUMsNkJBQW9CLEdBQWUsRUFBUyxZQUFrQyxFQUFTLGFBQTJCO1FBQTlGLFFBQUcsR0FBSCxHQUFHLENBQVk7UUFBUyxpQkFBWSxHQUFaLFlBQVksQ0FBc0I7UUFBUyxrQkFBYSxHQUFiLGFBQWEsQ0FBYztJQUFFLENBQUM7SUFFckgsc0NBQVEsR0FBUjtRQUFBLGlCQVFJO1FBUEcsSUFBTSxJQUFJLEdBQUksSUFBSSxXQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDbEksSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsU0FBUyxDQUNwQyxVQUFBLElBQUksSUFBSSxPQUFBLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQWpCLENBQWlCLEVBQ3pCLFVBQUEsS0FBSyxJQUFJLE9BQUEsS0FBSSxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLEVBQXJDLENBQXFDLENBQ2pELENBQUM7SUFHTixDQUFDO0lBRUosc0NBQVEsR0FBUjtRQUNDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUM7WUFDNUIsU0FBUyxFQUFFLENBQUMsRUFBRSxFQUFFLG1CQUFVLENBQUMsUUFBUSxDQUFDO1lBQ3BDLFFBQVEsRUFBRSxDQUFDLEVBQUUsRUFBRSxtQkFBVSxDQUFDLFFBQVEsQ0FBQztZQUNuQyxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUUsbUJBQVUsQ0FBQyxPQUFPLENBQUM7b0JBQzlCLG1CQUFVLENBQUMsUUFBUTtvQkFDbkIsSUFBSSxDQUFDLE9BQU87aUJBQ1osQ0FBQyxDQUFDO1lBQ0gsUUFBUSxFQUFFLENBQUMsRUFBRSxFQUFFLG1CQUFVLENBQUMsUUFBUSxDQUFDO1NBQ25DLENBQUMsQ0FBQztJQUNKLENBQUM7SUFFTyxxQ0FBTyxHQUFmLFVBQWdCLE9BQWlCO1FBQzFCLEVBQUUsQ0FBQSxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsNlBBQTZQLENBQUMsQ0FBQyxDQUFBLENBQUM7WUFDcFIsTUFBTSxDQUFDLEVBQUMsV0FBVyxFQUFDLElBQUksRUFBQyxDQUFBO1FBQzdCLENBQUM7SUFDTCxDQUFDO0lBOUJKO1FBQUMsZ0JBQVMsQ0FBQyxTQUFTLENBQUM7O3dEQUFBO0lBaER0QjtRQUFDLGdCQUFTLENBQUM7WUFDVixRQUFRLEVBQUUsbUJBQW1CO1lBQzNCLFFBQVEsRUFBRSxrNUVBeUNUO1NBQ0gsQ0FBQzs7MkJBQUE7SUFtQ0YsMEJBQUM7QUFBRCxDQWpDQSxBQWlDQyxJQUFBO0FBakNZLDJCQUFtQixzQkFpQy9CLENBQUEiLCJmaWxlIjoiYXV0aC9zaWdudXBmb3JtLmNvbXBvbmVudC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q29tcG9uZW50LCBPbkluaXQsIFZpZXdDaGlsZH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcclxuaW1wb3J0IHtDb250cm9sR3JvdXAsIEZvcm1CdWlsZGVyLCBWYWxpZGF0b3JzLCBDb250cm9sfSBmcm9tIFwiQGFuZ3VsYXIvY29tbW9uXCI7XHJcbmltcG9ydCB7QXV0aGVudGljYXRpb25TZXJ2aWNlfSBmcm9tIFwiLi9hdXRoZW50aWNhdGlvbi5zZXJ2aWNlXCI7XHJcbmltcG9ydCB7RXJyb3JTZXJ2aWNlfSBmcm9tIFwiLi4vZXJyb3JzL2Vycm9yLnNlcnZpY2VcIjtcclxuaW1wb3J0IHtVc2VyfSBmcm9tIFwiLi91c2VyXCI7XHJcbkBDb21wb25lbnQoe1xyXG5cdHNlbGVjdG9yOiAncmVnaXN0cmF0aW9uLWZvcm0nLFxyXG4gIFx0dGVtcGxhdGU6IGBcclxuICBcdFx0PGRpdj4gICAgXHJcbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJyZWdpc3RlclwiICBjbGFzcz1cImJ0biBidG4tcHJpbWFyeSBidG4tbGcgYnRuLWJsb2NrXCIgZGF0YS10b2dnbGU9XCJtb2RhbFwiIGRhdGEtdGFyZ2V0PVwiI215TW9kYWxcIj5SZWdpc3RlciBOb3c8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgPGRpdiAjbXlNb2RhbCBjbGFzcz1cIm1vZGFsIGZhZGVcIiBpZD1cIm15TW9kYWxcIiB0YWJpbmRleD1cIi0xXCIgcm9sZT1cImRpYWxvZ1wiIGFyaWEtbGFiZWxsZWRieT1cIm15TW9kYWxMYWJlbFwiPlxyXG4gIFx0XHRcdDxkaXYgY2xhc3M9XCJtb2RhbC1kaWFsb2dcIiByb2xlPVwiZG9jdW1lbnRcIj5cclxuICAgIFx0XHRcdDxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50XCI+XHJcbiAgICAgIFx0XHRcdFx0PGZvcm0gaWQ9XCJteUZvcm1cIiBbbmdGb3JtTW9kZWxdPVwibXlGb3JtXCI+XHJcbiAgICAgIFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+XHJcbiAgICAgICAgXHRcdFx0XHRcdDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiY2xvc2VcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiIGFyaWEtbGFiZWw9XCJDbG9zZVwiPjxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+PC9idXR0b24+XHJcbiAgICAgICAgXHRcdFx0XHRcdDxoNCBjbGFzcz1cIm1vZGFsLXRpdGxlXCIgaWQ9XCJteU1vZGFsTGFiZWxcIj5SZWdpc3RyYXRpb24gRm9ybTwvaDQ+XHJcbiAgICAgIFx0XHRcdFx0XHQ8L2Rpdj5cclxuICAgICAgXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+XHJcbiAgICAgICAgICAgICAgICBcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIFx0XHRcdDxsYWJlbCBmb3I9XCJmaXJzdE5hbWVcIj5GaXJzdCBOYW1lOjwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgXHRcdFx0PGlucHV0IHR5cGU9XCJ0ZXh0XCIgW25nRm9ybUNvbnRyb2xdPVwibXlGb3JtLmZpbmQoJ2ZpcnN0TmFtZScpXCIgaWQ9XCJmaXJzdE5hbWVcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiLz5cclxuICAgICAgICAgICAgICAgIFx0XHRcdDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgXHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuICAgICAgICAgICAgICAgICAgICBcdFx0XHQ8bGFiZWwgZm9yPVwibGFzdE5hbWVcIj5MYXN0IE5hbWU8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIFx0XHRcdDxpbnB1dCB0eXBlPVwidGV4dFwiIFtuZ0Zvcm1Db250cm9sXT1cIm15Rm9ybS5maW5kKCdsYXN0TmFtZScpXCIgaWQ9XCJsYXN0TmFtZVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIvPlxyXG4gICAgICAgICAgICAgICAgXHRcdFx0PC9kaXY+XHJcbiAgICAgICAgICAgICAgICBcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIFx0XHRcdDxsYWJlbCBmb3I9XCJlbWFpbFwiPkVtYWlsOjwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgXHRcdFx0PGlucHV0IHR5cGU9XCJlbWFpbFwiIFtuZ0Zvcm1Db250cm9sXT1cIm15Rm9ybS5maW5kKCdlbWFpbCcpXCIgaWQ9XCJlbWFpbFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgLz5cclxuICAgICAgICAgICAgICAgIFx0XHRcdDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgXHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuICAgICAgICAgICAgICAgICAgICBcdFx0XHQ8bGFiZWwgZm9yPVwicGFzc3dvcmRcIj5QYXNzd29yZDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgXHRcdFx0PGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIFtuZ0Zvcm1Db250cm9sXT1cIm15Rm9ybS5maW5kKCdwYXNzd29yZCcpXCIgaWQ9XCJwYXNzd29yZFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgLz5cclxuICAgICAgICAgICAgICAgIFx0XHRcdDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgXHRcdFx0XHJcbiAgICAgICAgICAgIFx0XHRcdFxyXG4gICAgICBcdFx0XHRcdFx0PC9kaXY+XHJcbiAgICAgIFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+XHJcbiAgICAgIFx0XHRcdFx0XHRcdDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgW2Rpc2FibGVkXT1cIiFteUZvcm0udmFsaWRcIiAoY2xpY2spPVwib25TdWJtaXQoKVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCI+U2lnbiBVcDwvYnV0dG9uPlxyXG4gICAgICAgIFx0XHRcdFx0XHQ8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tZGVmYXVsdFwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCI+Q2xvc2U8L2J1dHRvbj4gICAgICAgIFx0XHRcdFx0XHJcbiAgICAgIFx0XHRcdFx0XHQ8L2Rpdj5cclxuICAgICAgXHRcdFx0XHQ8L2Zvcm0+XHJcbiAgICBcdFx0XHQ8L2Rpdj5cclxuICBcdFx0XHQ8L2Rpdj5cclxuXHRcdDwvZGl2PlxyXG4gIFx0YFxyXG59KVxyXG5cclxuZXhwb3J0IGNsYXNzIFNpZ251cGZvcm1Db21wb25lbnR7XHJcblx0bXlGb3JtOkNvbnRyb2xHcm91cDtcclxuXHRAVmlld0NoaWxkKCdteU1vZGFsJykgbXlNb2RhbDogRWxlbWVudFJlZjtcclxuXHRcclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIF9mYjpGb3JtQnVpbGRlcixwcml2YXRlIF9hdXRoU2VydmljZTpBdXRoZW50aWNhdGlvblNlcnZpY2UscHJpdmF0ZSBfZXJyb3JTZXJ2aWNlOiBFcnJvclNlcnZpY2Upe31cclxuXHJcblx0b25TdWJtaXQoKXtcclxuICAgICAgICBjb25zdCB1c2VyICA9IG5ldyBVc2VyKHRoaXMubXlGb3JtLnZhbHVlLmVtYWlsLHRoaXMubXlGb3JtLnZhbHVlLnBhc3N3b3JkLHRoaXMubXlGb3JtLnZhbHVlLmZpcnN0TmFtZSx0aGlzLm15Rm9ybS52YWx1ZS5sYXN0TmFtZSk7XHJcbiAgICAgICAgdGhpcy5fYXV0aFNlcnZpY2Uuc2lnbnVwKHVzZXIpLnN1YnNjcmliZShcclxuICAgICAgICAgICAgZGF0YSA9PiBjb25zb2xlLmxvZyhkYXRhKSxcclxuICAgICAgICAgICAgZXJyb3IgPT4gdGhpcy5fZXJyb3JTZXJ2aWNlLmhhbmRsZUVycm9yKGVycm9yKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG5cdG5nT25Jbml0KCl7XHJcblx0XHR0aGlzLm15Rm9ybSA9IHRoaXMuX2ZiLmdyb3VwKHtcclxuXHRcdFx0Zmlyc3ROYW1lOiBbJycsIFZhbGlkYXRvcnMucmVxdWlyZWRdLFxyXG5cdFx0XHRsYXN0TmFtZTogWycnLCBWYWxpZGF0b3JzLnJlcXVpcmVkXSxcclxuXHRcdFx0ZW1haWw6IFsnJywgVmFsaWRhdG9ycy5jb21wb3NlKFtcclxuXHRcdFx0XHRWYWxpZGF0b3JzLnJlcXVpcmVkLFxyXG5cdFx0XHRcdHRoaXMuaXNFbWFpbFxyXG5cdFx0XHRdKV0sXHJcblx0XHRcdHBhc3N3b3JkOiBbJycsIFZhbGlkYXRvcnMucmVxdWlyZWRdXHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgaXNFbWFpbChjb250cm9sIDogQ29udHJvbCk6IHtbczpzdHJpbmddOmJvb2xlYW59e1xyXG4gICAgICAgIGlmKCFjb250cm9sLnZhbHVlLm1hdGNoKFwiWy1hLXowLTl+ISQlXiYqXz0rfXtcXCc/XSsoXFwuWy1hLXowLTl+ISQlXiYqXz0rfXtcXCc/XSspKkAoW2EtejAtOV9dWy1hLXowLTlfXSooXFwuWy1hLXowLTlfXSspKlxcLihhZXJvfGFycGF8Yml6fGNvbXxjb29wfGVkdXxnb3Z8aW5mb3xpbnR8bWlsfG11c2V1bXxuYW1lfG5ldHxvcmd8cHJvfHRyYXZlbHxtb2JpfFthLXpdW2Etel0pfChbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9KSkoOlswLTldezEsNX0pP1wiKSl7XHJcbiAgICAgICAgICAgIHJldHVybiB7aW52YWxpZE1haWw6dHJ1ZX1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
